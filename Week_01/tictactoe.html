<style>
    .cell {
        display: inline-block;
        height: 100px;
        width: 100px;
        margin: 20px;
        background-color: white;
        border: solid 1px black;
        border-radius: 50%;
    }
</style>

<div id="board"></div>

<script>
    let status = Array(9).fill(0);
    let colors = ["white", "red", "green"];
    let player = 1;

    function init() {
        let board = document.getElementById("board");

        for (let i = 0; i < 3; i ++) {
            for (let j = 0; j < 3; j++ ) {
                let cell = document.createElement("div");
                cell.setAttribute("id", `${i}-${j}`);
                cell.classList.add("cell");
                cell.style.backgroundColor = "white";
                cell.addEventListener("click", () => move(i,j));

                board.appendChild(cell);
            }
            board.appendChild(document.createElement("br"));
        }
    }

    function switchPlayer() {
        player = 3 - player;
    }

    function move(i,j) {
        if (status[i * 3 + j] === 0) {
            let cell = document.getElementById(`${i}-${j}`);
            cell.style.backgroundColor = colors[player];

            status[i * 3 + j] = player;
            if (isWin(status, player)) {
                alert(`Player ${colors[player]} wins !`);
            }
            if (willWin(status, player)) {
                console.log(`Player ${colors[player]} will win !`);
            }
            switchPlayer();
        } else {
            alert("Please choose another place.");
        }
    }

    function isWin(status, player) {
        if (status[0] === player && 
            status[0] === status[4] && 
            status[4] === status[8]) {
                return true;
        }

        if (status[2] === player && 
            status[2] === status[4] && 
            status[4] === status[6]) {
                return true;
        }

        for (let col = 0; col < 3; col ++) {
            if (status[col] === player) {
                if (status[col] === status[col] && 
                    status[col + 1] === status[col + 2]) {
                    return true;
                }
                if (status[col] === status[col + 3] && 
                    status[col + 3] === status[col + 6]) {
                    return true;
                }
            }
        }

        return false;
    }

    function willWin(status, player) {
        for (let p = 0; p < 9; p ++) {
            if (status[p] !== 0) {
                continue;
            }
            let tmp = Object.create(status);
            tmp[p] = player;
            if (isWin(tmp, player)) {
                return true;
            }
        }
        return false;
    }

    init();
</script>